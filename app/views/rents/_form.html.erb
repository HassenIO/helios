<%= javascript_include_tag 'bootstrap-datetimepicker' %>

<div class="row-fluid">
  <div class="span12">
    <h2><%= t(".car") %></h2>
  </div>
</div>

<%= render "rents/item", :rent => @rent %>


<hr/>

<%= form_for [@user, @rent] do |rent| %>


    <%= hidden_field(:rent, :airPort_id) %>
    <%= hidden_field(:rent, :startDate) %>
    <%= hidden_field(:rent, :endDate) %>
    <%= hidden_field(:rent, :travel_id) %>


    <%= rent.fields_for :driver do |driver_fields| %>


        <div class="row-fluid">
          <div class="span12">
            <h2><%= t(".driver_identity") %></h2>
          </div>
        </div>

        <fieldset name="User Information" class="well comment_form">
          <!--<legend><%= t(".informations") %></legend>-->

          <div class="row-fluid">
            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :first_name, :placeholder => t("helpers.label.driver.first_name") %>
                </div>
              </div>
            </div>

            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :last_name, :placeholder => t("helpers.label.driver.last_name") %>
                </div>
              </div>
            </div>

            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :phone, :placeholder => t("helpers.label.driver.phone") %>
                </div>
              </div>
            </div>
          </div>

        </fieldset>

        <div class="row-fluid">
          <div class="span12">
            <h2><%= t(".driver_contact") %></h2>
          </div>
        </div>

        <fieldset name="Address Information" class="well comment_form">
          <!--<legend><%= t(".informations") %></legend>-->

          <div class="row-fluid">
            <div class="span12">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :address, :class => "span12", :placeholder => t("helpers.label.driver.address") %>
                </div>
              </div>
            </div>
          </div>


          <div class="row-fluid">
            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :city, :placeholder => t("helpers.label.driver.city") %>
                </div>
              </div>
            </div>

            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :zip_code, :placeholder => t("helpers.label.driver.zip_code") %>
                </div>
              </div>
            </div>

            <div class="span4">
              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :country, :placeholder => t("helpers.label.driver.country") %>
                </div>
              </div>
            </div>
          </div>

        </fieldset>


        <div class="row-fluid">
          <div class="span12">
            <h2><%= t(".driver_license") %></h2>
          </div>
        </div>

        <fieldset name="License Information" class="well comment_form">
          <div class="row-fluid">
            <div class="span4">
              <label style="height: 20px"></label>

              <div class="control-group">
                <div class="controls">
                  <%= driver_fields.text_field :license, :placeholder => t("helpers.label.driver.license") %>
                </div>
              </div>


            </div>

            <div class="span4">
              <div class="control-group">
                <%= driver_fields.label :birth_date, :class => "control-label" %>
                <div class="controls input-append date" id="driver_birthdate_datetimepicker">
                  <%= driver_fields.text_field :birth_date, 'data-format' => "yyyy-MM-dd" %>
                  <span class="add-on">
                <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
              </span>
                </div>
              </div>
            </div>

            <div class="span4">
              <div class="control-group">
                <%= driver_fields.label :license_year, :class => "control-label" %>
                <div class="controls">
                  <%= driver_fields.select(:license_year, options_for_select(Time.now.year - 40..Time.now.year, :selected => driver_fields.object.license_year || Time.now.year - 3)) %>
                </div>
              </div>
            </div>
          </div>
        </fieldset>

    <% end %>


    <fieldset name="License Information" class="well comment_form">
      <div class="row-fluid">
        <div class="span12">
          <div class="control-group">
            <div class="controls">
              <%= rent.text_area :comments, :class => "comments", :placeholder => t("helpers.label.rent.comments") %>
            </div>
          </div>
        </div>
      </div>
    </fieldset>

    <div class="row-fluid">
      <div class="span12">
        <p><%= t(".conditions") %></p>
      </div>
    </div>


    <div class="row-fluid text-center" style="margin-bottom: 80px;">
      <div class="span12">
        <%= rent.submit :class => "btn on-hover btn-large" %>
      </div>
    </div>

<% end %>

<% content_for :footer do %>
    <script type="text/javascript">
        $(function () {

            $('#driver_birthdate_datetimepicker').datetimepicker({
                language: 'pt-BR',
                pickTime: false,
                startDate: new Date(1980, 1, 1, 0, 0, 0)
            });

        });

    </script>
<% end %>